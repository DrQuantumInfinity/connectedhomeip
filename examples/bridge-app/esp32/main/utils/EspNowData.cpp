#include "EspNowData.h"

#include <string.h>
#include <stdlib.h>

/**************************************************************************
 *                                  Constants
 **************************************************************************/
char const * const pDeviceTypeStrings[ESP_NOW_DEVICE_TYPE_COUNT] = {
    "Dht", 
    "Motion", 
    "Bool", 
    "Toggle"
};
/**************************************************************************
 *                                  Macros
 **************************************************************************/
#ifndef ArraySize
#define ArraySize(a) (sizeof(a) / sizeof((a)[0]))
#endif
/**************************************************************************
 *                                  Types
 **************************************************************************/
/**************************************************************************
 *                                  Prototypes
 **************************************************************************/
/**************************************************************************
 *                                  Variables
 **************************************************************************/
/**************************************************************************
 *                                  Global Functions
 **************************************************************************/
static_assert(ArraySize(pDeviceTypeStrings) == ESP_NOW_DEVICE_TYPE_COUNT);

const char* EspNowGetName(const ESP_NOW_DATA* pDev)
{
    const char* pRetVal = "UNKNOWN";
    if (pDev->type < ArraySize(pDeviceTypeStrings))
    {
        pRetVal = pDeviceTypeStrings[pDev->type];
    }
    return pRetVal;
}
/**************************************************************************
 *                                  Private Functions
 **************************************************************************/